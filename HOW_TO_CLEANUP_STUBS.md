# üßπ –ö–∞–∫ —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –∑–∞–≥–ª—É—à–∫–∏ –∫–æ–¥–µ–∫—Å–æ–≤

## ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –ß–µ—Ä–µ–∑ API endpoint (–µ—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –≤ –∞–¥–º–∏–Ω–∫—É):

```bash
curl -X POST "https://advacodex.com/api/v1/admin/documents/cleanup-stubs" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

---

## ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ `cleanup_codexes_endpoint.py`:

```bash
cd /root/advakod/backend/scripts
python3 cleanup_codexes_endpoint.py
```

–°–∫—Ä–∏–ø—Ç:
1. –ü–æ–ª—É—á–∏—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
2. –ù–∞–π–¥–µ—Ç –∑–∞–≥–ª—É—à–∫–∏ (–ø–æ ID –∏–ª–∏ —Ä–∞–∑–º–µ—Ä—É <= 1000 –±–∞–π—Ç)
3. –ü–æ–∫–∞–∂–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
4. –£–¥–∞–ª–∏—Ç –∏–∑ ChromaDB –∏ Simple RAG

---

## üìã –ß—Ç–æ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ

### –°—Ç–∞—Ä—ã–µ –∑–∞–≥–ª—É—à–∫–∏ –ø–æ ID:
- `0001201412140001` - –¢—Ä—É–¥–æ–≤–æ–π –∫–æ–¥–µ–∫—Å –†–§ (500 –±–∞–π—Ç)
- `0001201412140002` - –°–µ–º–µ–π–Ω—ã–π –∫–æ–¥–µ–∫—Å –†–§
- `0001201412140003` - –ñ–∏–ª–∏—â–Ω—ã–π –∫–æ–¥–µ–∫—Å –†–§
- `0001201412140004` - –ù–∞–ª–æ–≥–æ–≤—ã–π –∫–æ–¥–µ–∫—Å –†–§
- `0001201412140005` - –ë—é–¥–∂–µ—Ç–Ω—ã–π –∫–æ–¥–µ–∫—Å –†–§
- `0001201412140006` - –ö–æ–¥–µ–∫—Å –æ–± –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∞–≤–æ–Ω–∞—Ä—É—à–µ–Ω–∏—è—Ö –†–§
- `0001201410140002` - –ì—Ä–∞–∂–¥–∞–Ω—Å–∫–∏–π –∫–æ–¥–µ–∫—Å –†–§ (—á–∞—Å—Ç—å 1) - –∑–∞–≥–ª—É—à–∫–∞
- `0001201905010039` - –ù–∞–ª–æ–≥–æ–≤—ã–π –∫–æ–¥–µ–∫—Å –†–§ (—á–∞—Å—Ç—å 1) - –∑–∞–≥–ª—É—à–∫–∞
- `0001202203030006` - –£–≥–æ–ª–æ–≤–Ω—ã–π –∫–æ–¥–µ–∫—Å –†–§ - –∑–∞–≥–ª—É—à–∫–∞
- `198` - –£–∫–∞–∑ –ü—Ä–µ–∑–∏–¥–µ–Ω—Ç–∞ (–∑–∞–≥–ª—É—à–∫–∞)
- `289-11` - –£–∫–∞–∑ –ü—Ä–µ–∑–∏–¥–µ–Ω—Ç–∞ (–∑–∞–≥–ª—É—à–∫–∞)

### –¢–∞–∫–∂–µ —É–¥–∞–ª—è—Ç—Å—è:
- –í—Å–µ —Ñ–∞–π–ª—ã –∫–æ–¥–µ–∫—Å–æ–≤ —Ä–∞–∑–º–µ—Ä–æ–º <= 1000 –±–∞–π—Ç (–≤–µ—Ä–æ—è—Ç–Ω—ã–µ –∑–∞–≥–ª—É—à–∫–∏)

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

–ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è —Å—Ç–∞—Ä—ã—Ö –∑–∞–≥–ª—É—à–µ–∫:
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–æ–≤—ã–µ –ø–æ–ª–Ω—ã–µ –∫–æ–¥–µ–∫—Å—ã —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É "–ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–¥–µ–∫—Å—ã –†–§"
2. –ù–æ–≤—ã–µ –∫–æ–¥–µ–∫—Å—ã –±—É–¥—É—Ç –ø–æ–ª–Ω—ã–º–∏ (–Ω–µ –∑–∞–≥–ª—É—à–∫–∏)
3. –û–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É—é—Ç—Å—è –≤ RAG —Å–∏—Å—Ç–µ–º—É

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –í –∞–¥–º–∏–Ω–∫–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Ä–∞–∑–º–µ—Ä–æ–º 500 –±–∞–π—Ç
- –ù–æ–≤—ã–µ –∫–æ–¥–µ–∫—Å—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å > 100 –ö–ë (–æ–±—ã—á–Ω–æ 500 –ö–ë - 1 –ú–ë)

