# Документация админ-панели АДВАКОД

## Обзор

Интегрированная админ-панель АДВАКОД представляет собой комплексную систему управления, которая объединяет все аспекты администрирования проекта в единый современный интерфейс. Панель включает в себя управление пользователями, модерацию контента, маркетинговые инструменты, управление проектом, аналитику и многое другое.

## Содержание

1. [Быстрый старт](#быстрый-старт)
2. [Архитектура системы](#архитектура-системы)
3. [Модули админ-панели](#модули-админ-панели)
4. [Система ролей и прав доступа](#система-ролей-и-прав-доступа)
5. [Real-time обновления](#real-time-обновления)
6. [Горячие клавиши](#горячие-клавиши)
7. [Мобильная версия](#мобильная-версия)
8. [API документация](#api-документация)
9. [Устранение неполадок](#устранение-неполадок)

## Быстрый старт

### Доступ к админ-панели

1. Войдите в систему с учетной записью администратора
2. Перейдите по адресу `/admin` или нажмите на кнопку "Админ-панель" в главном меню
3. Выберите нужный модуль из боковой панели навигации

### Первоначальная настройка

При первом входе в админ-панель рекомендуется:

1. **Настроить уведомления** - перейдите в модуль "Уведомления" и настройте каналы уведомлений
2. **Проверить права доступа** - в модуле "Роли и права" убедитесь, что права настроены корректно
3. **Настроить дашборд** - кастомизируйте главный дашборд под ваши потребности

## Архитектура системы

### Технологический стек

**Frontend:**
- React 18 с хуками
- Tailwind CSS для стилизации
- Framer Motion для анимаций
- Lucide React для иконок
- Axios для HTTP запросов
- WebSocket для real-time обновлений

**Backend:**
- FastAPI (Python)
- PostgreSQL для основных данных
- Redis для кэширования
- WebSocket для real-time коммуникации

### Модульная архитектура

Админ-панель построена по модульному принципу, где каждый модуль является независимым компонентом со своими:
- Компонентами React
- API endpoints
- Системой прав доступа
- WebSocket подписками

## Модули админ-панели

### 1. Главный дашборд

**Описание:** Центральная страница с обзором ключевых метрик системы.

**Функции:**
- Отображение статистики пользователей
- Мониторинг системных показателей
- Быстрый доступ к другим модулям
- Real-time обновления данных

**Горячие клавиши:**
- `Ctrl + H` - переход на главный дашборд

### 2. Управление пользователями

**Описание:** Комплексная система управления пользователями с расширенной аналитикой.

**Функции:**
- Просмотр и редактирование профилей пользователей
- Массовые операции над пользователями
- Расширенные фильтры и поиск
- Экспорт данных пользователей
- Аналитика активности пользователей

**Доступные действия:**
- Создание нового пользователя
- Редактирование профиля
- Блокировка/разблокировка
- Изменение ролей
- Просмотр истории активности

### 3. Управление документами

**Описание:** Система управления документами RAG системы с версионированием.

**Функции:**
- Загрузка документов (файлы, URL)
- Версионирование документов
- Предварительный просмотр
- Аналитика использования документов
- Массовые операции

**Поддерживаемые форматы:**
- PDF документы
- Word документы (.docx)
- Текстовые файлы (.txt)
- Веб-страницы (URL)

### 4. Система ролей и прав доступа (RBAC)

**Описание:** Расширенная система управления ролями с иерархией и аудитом.

**Предустановленные роли:**
- **super_admin** - полный доступ ко всем функциям
- **admin** - административные функции
- **moderator** - модерация контента
- **analyst** - аналитика и отчеты
- **marketing_manager** - маркетинговые инструменты
- **project_manager** - управление проектом

**Функции:**
- Создание пользовательских ролей
- Настройка прав доступа
- Визуальная матрица ролей и прав
- История изменений ролей
- Защитные механизмы для супер-админа

### 5. Система модерации

**Описание:** Геймифицированная система модерации ответов ИИ.

**Функции:**
- Очередь сообщений для модерации
- Система оценок (1-10 звезд)
- Рейтинг модераторов
- Система достижений и бейджей
- Аналитика качества модерации

**Система геймификации:**
- Баллы за модерацию
- Ранги модераторов
- Еженедельные челленджи
- Таблица лидеров

### 6. Маркетинговые инструменты

**Описание:** Комплекс инструментов для маркетинговых активностей.

**Подмодули:**

#### 6.1 Воронка продаж
- Визуализация этапов конверсии
- Анализ падений конверсии
- Сегментация пользователей

#### 6.2 Управление промокодами
- Создание промокодов
- Аналитика использования
- Автоматические промокоды

#### 6.3 Аналитика трафика
- Источники трафика
- UTM параметры
- Эффективность каналов

#### 6.4 A/B тестирование
- Создание экспериментов
- Статистический анализ
- Интерпретация результатов

### 7. Управление проектом

**Описание:** Центр управления проектом с трекингом задач и ресурсов.

**Подмодули:**

#### 7.1 Дашборд проекта
- KPI проекта
- Календарь событий
- Прогресс по задачам

#### 7.2 Управление задачами
- Канбан-доска
- Планирование спринтов
- Трекинг времени

#### 7.3 Календарь проекта
- События и дедлайны
- Планирование ресурсов
- Интеграция с задачами

#### 7.4 Отслеживание ресурсов
- Нагрузка команды
- Планирование отпусков
- Отчеты по ресурсам

### 8. Система уведомлений

**Описание:** Умная система уведомлений с множественными каналами.

**Функции:**
- Push-уведомления в браузере
- Email уведомления
- Интеграция со Slack
- Интеграция с Telegram
- Группировка уведомлений
- Настройки фильтрации

**Типы уведомлений:**
- Системные алерты
- Уведомления о модерации
- Маркетинговые события
- Проектные уведомления

### 9. Продвинутая аналитика

**Описание:** Бизнес-аналитика с интерактивными дашбордами.

**Подмодули:**

#### 9.1 Конструктор дашбордов
- Drag-and-drop интерфейс
- Библиотека виджетов
- Сохранение дашбордов

#### 9.2 Когортный анализ
- Анализ удержания пользователей
- Сегментация по поведению
- Воронки удержания

#### 9.3 Конструктор метрик
- Пользовательские KPI
- Алерты на основе метрик
- Предустановленные метрики

#### 9.4 ML прогнозы
- Прогнозная аналитика
- LTV пользователей
- Рекомендации по оптимизации

### 10. Резервное копирование

**Описание:** Система управления резервными копиями.

**Функции:**
- Создание бэкапов
- Автоматическое резервное копирование
- Восстановление данных
- Мониторинг целостности
- Уведомления о статусе

### 11. Системные настройки

**Описание:** Системные настройки и мониторинг.

**Функции:**
- Просмотр логов системы
- Мониторинг производительности
- Настройки системы
- Диагностика проблем

## Система ролей и прав доступа

### Иерархия ролей

```
super_admin (Супер-администратор)
├── admin (Администратор)
│   ├── moderator (Модератор)
│   ├── analyst (Аналитик)
│   ├── marketing_manager (Маркетолог)
│   └── project_manager (Менеджер проекта)
```

### Матрица прав доступа

| Модуль | super_admin | admin | moderator | analyst | marketing | project |
|--------|-------------|-------|-----------|---------|-----------|---------|
| Дашборд | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| Пользователи | ✅ | ✅ | ❌ | ✅ | ❌ | ❌ |
| Документы | ✅ | ✅ | ❌ | ❌ | ❌ | ❌ |
| Роли | ✅ | ❌ | ❌ | ❌ | ❌ | ❌ |
| Модерация | ✅ | ✅ | ✅ | ❌ | ❌ | ❌ |
| Маркетинг | ✅ | ✅ | ❌ | ✅ | ✅ | ❌ |
| Проект | ✅ | ✅ | ❌ | ❌ | ❌ | ✅ |
| Уведомления | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| Аналитика | ✅ | ✅ | ❌ | ✅ | ✅ | ✅ |
| Бэкапы | ✅ | ✅ | ❌ | ❌ | ❌ | ❌ |
| Система | ✅ | ✅ | ❌ | ❌ | ❌ | ❌ |

## Real-time обновления

### WebSocket подключения

Админ-панель использует WebSocket для получения обновлений в реальном времени:

- **Дашборд метрики** - обновляются каждые 30 секунд
- **Уведомления** - мгновенные push-уведомления
- **Очередь модерации** - обновления при новых сообщениях
- **Системные алерты** - критические уведомления
- **Активность пользователей** - онлайн статус

### Синхронизация между вкладками

Система автоматически синхронизирует данные между открытыми вкладками:
- Состояние дашборда
- Уведомления
- Активный модуль
- Настройки интерфейса

## Горячие клавиши

### Глобальные горячие клавиши

- `Ctrl + K` - открыть командную палитру
- `Ctrl + B` - переключить боковую панель
- `Ctrl + H` - перейти на главный дашборд
- `Ctrl + /` - показать справку по горячим клавишам
- `Escape` - закрыть модальные окна

### Модуль-специфичные горячие клавиши

**Управление пользователями:**
- `Ctrl + N` - создать нового пользователя
- `Ctrl + F` - фокус на поиске
- `Ctrl + E` - экспорт данных

**Модерация:**
- `1-5` - быстрая оценка (1-5 звезд)
- `A` - одобрить сообщение
- `R` - отклонить сообщение
- `N` - следующее сообщение

**Аналитика:**
- `Ctrl + R` - обновить данные
- `Ctrl + S` - сохранить дашборд
- `Ctrl + D` - дублировать виджет

## Мобильная версия

### Адаптивный дизайн

Админ-панель полностью адаптирована для мобильных устройств:

- **Навигация** - сворачиваемое боковое меню
- **Таблицы** - горизонтальная прокрутка
- **Формы** - оптимизированы для touch-интерфейса
- **Графики** - адаптивные размеры

### Touch-friendly элементы

- Увеличенные кнопки и области нажатия
- Swipe-жесты для навигации
- Pull-to-refresh для обновления данных
- Оптимизированные модальные окна

## API документация

### Базовые endpoints

```
GET /api/v1/admin/dashboard - данные дашборда
GET /api/v1/admin/users - список пользователей
POST /api/v1/admin/users - создание пользователя
PUT /api/v1/admin/users/{id} - обновление пользователя
DELETE /api/v1/admin/users/{id} - удаление пользователя
```

### WebSocket endpoints

```
/ws/admin - основное WebSocket подключение
/ws/admin/notifications - уведомления
/ws/admin/moderation - очередь модерации
/ws/admin/analytics - аналитические данные
```

### Аутентификация

Все API запросы требуют JWT токен в заголовке:
```
Authorization: Bearer <jwt_token>
```

## Обучение и справка

### Интерактивные туры

Система предоставляет пошаговые интерактивные туры для изучения функций:

1. **Запуск туров:**
   - Нажмите на кнопку помощи (?) в правом нижнем углу
   - Выберите нужный тур из списка
   - Следуйте пошаговым инструкциям

2. **Доступные туры:**
   - Обзор админ-панели (5 мин)
   - Управление пользователями (7 мин)
   - Система модерации (6 мин)
   - Маркетинговые инструменты (8 мин)
   - Управление проектом (7 мин)
   - Продвинутая аналитика (9 мин)

### Видео-гайды

Библиотека видео-инструкций доступна через:
- Кнопку справки (F1 или Ctrl+Shift+H)
- Раздел "Видео-гайды" в справочной системе

**Особенности видео-плеера:**
- Поддержка глав для быстрой навигации
- Настройка скорости воспроизведения
- Возможность скачивания для офлайн просмотра
- Синхронизация прогресса между устройствами

### Справочная система

Комплексная справочная система включает:
- **Документацию** по всем модулям
- **FAQ** с ответами на частые вопросы
- **API документацию** для разработчиков
- **Поиск** по всем материалам

**Доступ к справке:**
- Нажмите F1 в любом месте админ-панели
- Используйте горячие клавиши Ctrl+Shift+H
- Кликните на иконку справки в верхней панели

## Устранение неполадок

### Частые проблемы

#### 1. Не загружается дашборд
**Симптомы:** Пустой экран или ошибка загрузки
**Решение:**
- Проверьте подключение к интернету
- Обновите страницу (Ctrl+F5)
- Проверьте права доступа
- Воспользуйтесь интерактивным туром "Обзор админ-панели"

#### 2. Не работают уведомления
**Симптомы:** Не приходят push-уведомления
**Решение:**
- Разрешите уведомления в браузере
- Проверьте настройки уведомлений в профиле
- Убедитесь, что WebSocket подключение активно
- Посмотрите видео-гайд "Система уведомлений"

#### 3. Медленная загрузка данных
**Симптомы:** Долгая загрузка модулей
**Решение:**
- Очистите кэш браузера
- Проверьте нагрузку на сервер
- Используйте фильтры для уменьшения объема данных
- Изучите раздел "Оптимизация производительности" в справке

#### 4. Проблемы с правами доступа
**Симптомы:** "Доступ запрещен" при переходе в модуль
**Решение:**
- Обратитесь к супер-администратору
- Проверьте свою роль в профиле
- Убедитесь, что сессия не истекла
- Изучите документацию по системе ролей

#### 5. Не понятно, как использовать функцию
**Решение:**
- Запустите соответствующий интерактивный тур
- Посмотрите видео-гайд по модулю
- Воспользуйтесь поиском в справочной системе
- Обратитесь к FAQ

### Логи и диагностика

Для диагностики проблем используйте:
- **Консоль браузера** (F12) - для frontend ошибок
- **Модуль "Система"** - для просмотра серверных логов
- **Мониторинг производительности** - для анализа нагрузки
- **Справочная система** - для поиска решений

### Самообучение

1. **Новым пользователям рекомендуется:**
   - Пройти тур "Обзор админ-панели"
   - Изучить документацию по своей роли
   - Посмотреть видео-гайды по основным функциям

2. **Для углубленного изучения:**
   - Пройдите все доступные туры
   - Изучите API документацию
   - Практикуйтесь на тестовых данных

### Контакты поддержки

При возникновении проблем обращайтесь:
- **Email:** support@advakod.ru
- **Telegram:** @advakod_support
- **Внутренний чат:** используйте систему уведомлений
- **Справочная система:** F1 для быстрого доступа

---

**Версия документации:** 1.0  
**Последнее обновление:** 26 октября 2024  
**Статус:** Актуальная