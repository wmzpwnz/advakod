# --- Core environment ---
ENVIRONMENT=production
DEBUG=false

# --- Secrets (fill in on server/CI, keep out of Git) ---
SECRET_KEY=
ENCRYPTION_KEY=
POSTGRES_PASSWORD=
SENTRY_DSN=

# --- Database URLs ---
DATABASE_URL=postgresql://advakod:${POSTGRES_PASSWORD}@advakod_postgres:5432/advakod_db
POSTGRES_HOST=advakod_postgres
POSTGRES_PORT=5432
POSTGRES_USER=advakod
POSTGRES_DB=advakod_db

# --- External services ---
QDRANT_URL=http://advakod_qdrant:6333
QDRANT_HOST=advakod_qdrant
QDRANT_PORT=6333
QDRANT_COLLECTION_NAME=legal_documents
REDIS_URL=redis://advakod_redis:6379

# --- CORS / hosts ---
CORS_ORIGINS=https://advacodex.com,https://www.advacodex.com
BACKEND_CORS_ORIGINS=https://advacodex.com,https://www.advacodex.com
TRUSTED_HOSTS=advacodex.com,*.advacodex.com,advakod_backend,backend,nginx
ADMIN_IP_WHITELIST=

# --- AI model settings (adjust to your hardware) ---
VISTRAL_MODEL_PATH=/opt/advakod/models/vistral/Vistral-24B-Instruct-Q5_0.gguf
VISTRAL_N_CTX=4096
VISTRAL_N_THREADS=8
VISTRAL_MAX_CONCURRENCY=2
VISTRAL_INFERENCE_TIMEOUT=300
VISTRAL_N_GPU_LAYERS=0
VISTRAL_TOKEN_MARGIN=128
VISTRAL_REPEAT_PENALTY=1.1
VISTRAL_TEMPERATURE=0.3
VISTRAL_TOP_P=0.8

# --- App settings ---
ACCESS_TOKEN_EXPIRE_MINUTES=240
CACHE_TTL_DEFAULT=3600
CACHE_TTL_AI_RESPONSE=7200
CACHE_TTL_USER_PROFILE=1800
AI_DOCUMENT_ANALYSIS_TIMEOUT=180
AI_CHAT_RESPONSE_TIMEOUT=300
AI_COMPLEX_ANALYSIS_TIMEOUT=300
AI_EMBEDDINGS_TIMEOUT=30
AI_DOCUMENT_ANALYSIS_TOKENS=3000
AI_CHAT_RESPONSE_TOKENS=800
AI_COMPLEX_ANALYSIS_TOKENS=2500
AI_EMBEDDINGS_TOKENS=500

# --- Frontend build args (used by Dockerfile or compose) ---
REACT_APP_API_URL=https://advacodex.com/api/v1
REACT_APP_WS_URL=wss://advacodex.com/ws

# --- Release variables ---
# Tag for immutable images, e.g. v1.0.0
IMAGE_TAG=
# Container registries
# For GHCR (auto from workflow): ghcr.io/<owner>/<repo>-backend and -frontend
# For private registry: set below namespace
REGISTRY_URL=registry.advacodex.com
REGISTRY_NAMESPACE=advakod
# Image names (override if needed)
BACKEND_IMAGE=${REGISTRY_URL}/${REGISTRY_NAMESPACE}/backend
FRONTEND_IMAGE=${REGISTRY_URL}/${REGISTRY_NAMESPACE}/frontend
