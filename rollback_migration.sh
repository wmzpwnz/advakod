#!/bin/bash
# –°–∫—Ä–∏–ø—Ç –¥–ª—è –æ—Ç–∫–∞—Ç–∞ –º–∏–≥—Ä–∞—Ü–∏–∏ Saiga -> Vistral
# –°–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ validate_migration.py

echo "üîÑ –ù–∞—á–∏–Ω–∞–µ–º –æ—Ç–∫–∞—Ç –º–∏–≥—Ä–∞—Ü–∏–∏..."

# –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º git —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–æ –º–∏–≥—Ä–∞—Ü–∏–∏
if git rev-parse --verify HEAD~1 >/dev/null 2>&1; then
    echo "üì¶ –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–∑ git..."
    git checkout HEAD~1 -- backend/app/
    echo "‚úÖ –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ"
else
    echo "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–π commit –¥–ª—è –æ—Ç–∫–∞—Ç–∞"
    echo "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –æ—Ç–∫–∞—Ç –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏"
fi

echo "üéØ –û—Ç–∫–∞—Ç –∑–∞–≤–µ—Ä—à–µ–Ω"
