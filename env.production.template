# ПРОДАКШЕН НАСТРОЙКИ АДВАКОД
# Скопируйте этот файл в env.production и заполните реальными значениями
# cp env.production.template env.production

PROJECT_NAME="АДВАКОД - ИИ-Юрист для РФ"
VERSION="1.0.0"
ENVIRONMENT="production"
DEBUG=false

# PostgreSQL база данных
# ВАЖНО: Замените пароль на безопасный!
DATABASE_URL="postgresql://advakod:YOUR_POSTGRES_PASSWORD@advakod_postgres:5432/advakod_db"
POSTGRES_HOST="advakod_postgres"
POSTGRES_PORT=5432
POSTGRES_USER="advakod"
POSTGRES_PASSWORD="YOUR_POSTGRES_PASSWORD"
POSTGRES_DB="advakod_db"

# Qdrant векторная база данных
QDRANT_URL="http://advakod_qdrant:6333"
QDRANT_HOST="advakod_qdrant"
QDRANT_PORT=6333
QDRANT_COLLECTION_NAME="legal_documents"

# Vistral 24B модель
# Путь к модели на сервере
VISTRAL_MODEL_PATH="/opt/advakod/models/vistral/Vistral-24B-Instruct-Q5_0.gguf"
VISTRAL_N_CTX=4096
VISTRAL_N_THREADS=8           # Количество потоков для обработки
VISTRAL_N_GPU_LAYERS=0        # 0 для CPU, больше для GPU
VISTRAL_INFERENCE_TIMEOUT=180 # Таймаут в секундах
VISTRAL_MAX_CONCURRENCY=2     # Максимум параллельных запросов
VISTRAL_TOKEN_MARGIN=128
VISTRAL_REPEAT_PENALTY=1.1
VISTRAL_TEMPERATURE=0.3
VISTRAL_TOP_P=0.8
VISTRAL_STOP_TOKENS=""
LOG_PROMPTS=false

# Безопасность - КРИТИЧЕСКИ ВАЖНО!
# Сгенерируйте новые ключи командой: python -c "import secrets; print(secrets.token_urlsafe(64))"
SECRET_KEY="GENERATE_NEW_SECRET_KEY_HERE"
ACCESS_TOKEN_EXPIRE_MINUTES=240
ENCRYPTION_KEY="GENERATE_NEW_ENCRYPTION_KEY_HERE"

# CORS - укажите ваши домены
CORS_ORIGINS="https://advacodex.com,https://www.advacodex.com"
BACKEND_CORS_ORIGINS="https://advacodex.com,https://www.advacodex.com"
TRUSTED_HOSTS="advacodex.com,*.advacodex.com,advakod_backend,backend,nginx,advakod_nginx"

# Кеширование
REDIS_URL="redis://advakod_redis:6379"
CACHE_TTL_DEFAULT=3600
CACHE_TTL_AI_RESPONSE=7200
CACHE_TTL_USER_PROFILE=1800

# Таймауты для AI-анализа (в секундах)
AI_DOCUMENT_ANALYSIS_TIMEOUT=180
AI_CHAT_RESPONSE_TIMEOUT=90
AI_COMPLEX_ANALYSIS_TIMEOUT=300
AI_EMBEDDINGS_TIMEOUT=30

# Настройки токенов для AI-анализа
AI_DOCUMENT_ANALYSIS_TOKENS=3000
AI_CHAT_RESPONSE_TOKENS=1500
AI_COMPLEX_ANALYSIS_TOKENS=2500
AI_EMBEDDINGS_TOKENS=500

# Мониторинг (опционально)
SENTRY_DSN=""
JAEGER_ENDPOINT=""

# Резервное копирование
BACKUP_DIR="./backups"
MAX_BACKUPS=30
BACKUP_INTERVAL_HOURS=6

# Домен
DOMAIN="advacodex.com"
API_URL="https://advacodex.com/api/v1"
WS_URL="wss://advacodex.com/ws"

# SSL (пути к сертификатам)
SSL_CERT_PATH="/etc/letsencrypt/live/advacodex.com/fullchain.pem"
SSL_KEY_PATH="/etc/letsencrypt/live/advacodex.com/privkey.pem"

