# –ü–õ–ê–ù –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô - –ò–ò-–Æ–†–ò–°–¢

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´ (–§–∞–∑–∞ 1 - 1-2 –Ω–µ–¥–µ–ª–∏)

### 1. –£—Ç–µ—á–∫–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** CRITICAL  
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞  
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```bash
# 1. –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª
cp ENV_EXAMPLE.txt .env

# 2. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Å–µ–∫—Ä–µ—Ç—ã
export SECRET_KEY="$(openssl rand -base64 32)"
export ENCRYPTION_KEY="$(openssl rand -base64 32)"
export POSTGRES_PASSWORD="$(openssl rand -base64 16)"

# 3. –î–æ–±–∞–≤–∏—Ç—å –≤ .gitignore
echo ".env" >> .gitignore
echo "config.env" >> .gitignore
```

### 2. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** CRITICAL  
**–í—Ä–µ–º—è:** 4 —á–∞—Å–∞  
**–§–∞–π–ª—ã:** `backend/app/api/chat.py`  
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```python
from pydantic import BaseModel, validator, Field

class ChatRequest(BaseModel):
    message: str = Field(..., min_length=1, max_length=10000)
    session_id: Optional[int] = Field(None, ge=1)
    
    @validator('message')
    def validate_message(cls, v):
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ XSS
        if any(tag in v.lower() for tag in ['<script', '<iframe', 'javascript:']):
            raise ValueError('Potentially malicious content detected')
        return v.strip()
```

### 3. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–∞—Ä–æ–ª–µ–π
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** CRITICAL  
**–í—Ä–µ–º—è:** 3 —á–∞—Å–∞  
**–§–∞–π–ª—ã:** `backend/app/services/auth_service.py`  
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```python
from passlib.context import CryptContext

pwd_context = CryptContext(
    schemes=["argon2", "bcrypt"], 
    deprecated="auto",
    argon2__memory_cost=65536,
    argon2__time_cost=3,
    argon2__parallelism=4
)
```

## üî• –í–´–°–û–ö–ò–ï –ü–†–ò–û–†–ò–¢–ï–¢–´ (–§–∞–∑–∞ 2 - 2-3 –Ω–µ–¥–µ–ª–∏)

### 1. RAG —Å–∏—Å—Ç–µ–º–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** HIGH  
**–í—Ä–µ–º—è:** 1 –Ω–µ–¥–µ–ª—è  
**–§–∞–π–ª—ã:** `backend/app/services/rag_service.py`  
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–∏—Ç—å RRF –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è BM25 –∏ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å reranking
- –î–æ–±–∞–≤–∏—Ç—å –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### 2. –ß–∞–Ω–∫–∏–Ω–≥ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** HIGH  
**–í—Ä–µ–º—è:** 3 –¥–Ω—è  
**–§–∞–π–ª—ã:** `backend/app/services/document_service.py`  
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- –£–ª—É—á—à–∏—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º —á–∞–Ω–∫–∏–Ω–≥–∞
- –î–æ–±–∞–≤–∏—Ç—å overlap –º–µ–∂–¥—É —á–∞–Ω–∫–∞–º–∏
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç

### 3. LoRA –æ–±—É—á–µ–Ω–∏–µ
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** HIGH  
**–í—Ä–µ–º—è:** 1 –Ω–µ–¥–µ–ª—è  
**–§–∞–π–ª—ã:** `backend/app/services/lora_training_service.py`  
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

## üìà –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨ (–§–∞–∑–∞ 3 - 1-2 –Ω–µ–¥–µ–ª–∏)

### 1. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** HIGH  
**–í—Ä–µ–º—è:** 2 –¥–Ω—è  
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```python
import redis
from functools import lru_cache

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Redis
redis_client = redis.Redis(host='localhost', port=6379, db=0)

@lru_cache(maxsize=1000)
def get_cached_response(query_hash: str) -> Optional[str]:
    return redis_client.get(query_hash)
```

### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ë–î
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** MEDIUM  
**–í—Ä–µ–º—è:** 1 –¥–µ–Ω—å  
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```python
# Connection pooling
engine = create_engine(
    DATABASE_URL,
    poolclass=QueuePool,
    pool_size=20,
    max_overflow=30,
    pool_pre_ping=True
)
```

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï (–§–∞–∑–∞ 4 - 1 –Ω–µ–¥–µ–ª—è)

### 1. –£–≤–µ–ª–∏—á–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** HIGH  
**–í—Ä–µ–º—è:** 3 –¥–Ω—è  
**–¶–µ–ª—å:** –ü–æ–∫—Ä—ã—Ç–∏–µ > 80%

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** MEDIUM  
**–í—Ä–µ–º—è:** 2 –¥–Ω—è  
**–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è:**
- RAG —Å–∏—Å—Ç–µ–º—ã
- LoRA –æ–±—É—á–µ–Ω–∏—è
- –í–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞

## üìä –ú–ï–¢–†–ò–ö–ò –ü–†–ò–ï–ú–ö–ò

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ
- [ ] Hit@5 ‚â• 0.95
- [ ] Citation accuracy ‚â• 0.9
- [ ] Hallucination rate < 0.02

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- [ ] p95 latency < 2s (–ø—Ä–æ—Å—Ç—ã–µ)
- [ ] p95 latency < 10s (—Å–ª–æ–∂–Ω—ã–µ)
- [ ] GPU utilization < 90%

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- [ ] –ù–µ—Ç —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ –∫–æ–¥–µ
- [ ] –ù–µ—Ç PII –≤ –ª–æ–≥–∞—Ö
- [ ] –í—Å–µ –≤–Ω–µ—à–Ω–∏–µ –≤—ã–∑–æ–≤—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è

## üéØ –ö–û–ù–¢–†–û–õ–¨–ù–´–ï –¢–û–ß–ö–ò

### –ù–µ–¥–µ–ª—è 1
- [ ] –°–µ–∫—Ä–µ—Ç—ã –ø–µ—Ä–µ–º–µ—â–µ–Ω—ã –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ö–µ–º–∞ —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π

### –ù–µ–¥–µ–ª—è 2-3
- [ ] RAG —Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
- [ ] –ß–∞–Ω–∫–∏–Ω–≥ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —É–ª—É—á—à–µ–Ω
- [ ] LoRA –æ–±—É—á–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ

### –ù–µ–¥–µ–ª—è 4
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ
- [ ] –ë–î –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
- [ ] –¢–µ—Å—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã

## üìû –û–¢–í–ï–¢–°–¢–í–ï–ù–ù–´–ï

- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** DevOps Engineer
- **RAG —Å–∏—Å—Ç–µ–º–∞:** ML Engineer  
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** Backend Developer
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** QA Engineer

## üìÖ –í–†–ï–ú–ï–ù–ù–´–ï –†–ê–ú–ö–ò

- **–§–∞–∑–∞ 1:** 1-2 –Ω–µ–¥–µ–ª–∏
- **–§–∞–∑–∞ 2:** 2-3 –Ω–µ–¥–µ–ª–∏  
- **–§–∞–∑–∞ 3:** 1-2 –Ω–µ–¥–µ–ª–∏
- **–§–∞–∑–∞ 4:** 1 –Ω–µ–¥–µ–ª—è
- **–ò–¢–û–ì–û:** 5-8 –Ω–µ–¥–µ–ª—å
