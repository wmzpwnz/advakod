# API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –≤ –∞–¥–º–∏–Ω–∫–µ

## –û–±–∑–æ—Ä

API –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å —Ä–∞–∑–¥–µ–ª–∞–º–∏:
- **–ö–æ–¥–µ–∫—Å—ã** (codex)
- **–§–µ–¥–µ—Ä–∞–ª—å–Ω—ã–µ –∑–∞–∫–æ–Ω—ã** (federal_law)
- **–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –í–µ—Ä—Ö–æ–≤–Ω–æ–≥–æ –°—É–¥–∞** (supreme_court_resolution)
- **–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è** (resolution)
- **–£–∫–∞–∑—ã** (decree)
- **–ü—Ä–∏–∫–∞–∑—ã** (order)
- **–î—Ä—É–≥–∏–µ** (other)

## Endpoints

### 1. –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π

```
GET /api/v1/admin/documents?skip=0&limit=100&document_type=codex
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `skip` (int, default: 0) - –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- `limit` (int, default: 100) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- `document_type` (string, optional) - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É

**–û—Ç–≤–µ—Ç:**
```json
{
  "documents": [...],
  "total": 29,
  "skip": 0,
  "limit": 100,
  "document_type": "codex",
  "documents_by_type": {
    "codex": [...],
    "federal_law": [...]
  },
  "available_types": ["codex", "federal_law", "other"]
}
```

### 2. –ü–æ–ª—É—á–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞

```
GET /api/v1/admin/documents/by-type/{document_type}?skip=0&limit=100
```

**–ü—Ä–∏–º–µ—Ä—ã:**
- `/api/v1/admin/documents/by-type/codex` - –≤—Å–µ –∫–æ–¥–µ–∫—Å—ã
- `/api/v1/admin/documents/by-type/federal_law` - –≤—Å–µ –§–ó
- `/api/v1/admin/documents/by-type/supreme_court_resolution` - –≤—Å–µ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –í–°

**–û—Ç–≤–µ—Ç:**
```json
{
  "documents": [
    {
      "id": "codex_1",
      "file_name": "–ì—Ä–∞–∂–¥–∞–Ω—Å–∫–∏–π_–∫–æ–¥–µ–∫—Å_–†–§.txt",
      "document_type": "codex",
      "chunks_count": 943,
      "total_length": 123456,
      "metadata": {...}
    }
  ],
  "total": 24,
  "skip": 0,
  "limit": 100,
  "document_type": "codex"
}
```

### 3. –ü–æ–ª—É—á–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–æ–∫—É–º–µ–Ω—Ç–∞ (—Ä–∞–∑–¥–µ–ª—ã/—Å—Ç–∞—Ç—å–∏)

```
GET /api/v1/admin/documents/{document_id}/structure
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "document_id": "codex_1",
  "total_chunks": 943,
  "structure": [
    {
      "type": "section",
      "name": "–†–∞–∑–¥–µ–ª I",
      "articles": [
        {
          "name": "–°—Ç–∞—Ç—å—è 1",
          "article": "1",
          "chunks": [...]
        }
      ],
      "chunks": [...]
    }
  ]
}
```

### 4. –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Ç–∏–ø–∞–º

```
GET /api/v1/admin/documents/stats
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "stats": {
    "codex": 24,
    "federal_law": 3,
    "other": 2
  },
  "stats_list": [
    {"type": "codex", "count": 24},
    {"type": "federal_law", "count": 3}
  ],
  "total": 51271,
  "total_unique_documents": 29
}
```

## –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ UI

### 1. –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

```
üìÅ –î–æ–∫—É–º–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ üìö –ö–æ–¥–µ–∫—Å—ã (24)
‚îú‚îÄ‚îÄ üìú –§–µ–¥–µ—Ä–∞–ª—å–Ω—ã–µ –∑–∞–∫–æ–Ω—ã (3)
‚îú‚îÄ‚îÄ ‚öñÔ∏è –°—É–¥–µ–±–Ω—ã–µ –∞–∫—Ç—ã (2)
‚îú‚îÄ‚îÄ üìã –ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è (1)
‚îú‚îÄ‚îÄ üìù –£–∫–∞–∑—ã (1)
‚îî‚îÄ‚îÄ üìÑ –î—Ä—É–≥–∏–µ (2)
```

### 2. –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Ä–∞–∑–¥–µ–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ö–æ–¥–µ–∫—Å—ã")

–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∫–æ–¥–µ–∫—Å–æ–≤:
- –ì—Ä–∞–∂–¥–∞–Ω—Å–∫–∏–π –∫–æ–¥–µ–∫—Å –†–§
- –£–≥–æ–ª–æ–≤–Ω—ã–π –∫–æ–¥–µ–∫—Å –†–§
- –¢—Ä—É–¥–æ–≤–æ–π –∫–æ–¥–µ–∫—Å –†–§
- –∏ —Ç.–¥.

### 3. –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥–µ–∫—Å

–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å –≤—ã–ø–∞–¥–∞—é—â–∏–º —Å–ø–∏—Å–∫–æ–º:
```
üìñ –ì—Ä–∞–∂–¥–∞–Ω—Å–∫–∏–π –∫–æ–¥–µ–∫—Å –†–§
‚îú‚îÄ‚îÄ üìë –†–∞–∑–¥–µ–ª I. –û–±—â–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ –°—Ç–∞—Ç—å—è 1
‚îÇ   ‚îú‚îÄ‚îÄ –°—Ç–∞—Ç—å—è 2
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ üìë –†–∞–∑–¥–µ–ª II. –ü—Ä–∞–≤–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ –°—Ç–∞—Ç—å—è 209
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ ...
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∫–æ–¥–µ–∫—Å—ã
```javascript
const response = await fetch('/api/v1/admin/documents/by-type/codex', {
  headers: {
    'Authorization': `Bearer ${token}`
  }
});
const { documents } = await response.json();
```

### –ü–æ–ª—É—á–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–¥–µ–∫—Å–∞
```javascript
const response = await fetch(`/api/v1/admin/documents/${documentId}/structure`, {
  headers: {
    'Authorization': `Bearer ${token}`
  }
});
const { structure } = await response.json();
// structure —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–∞–∑–¥–µ–ª—ã –∏ —Å—Ç–∞—Ç—å–∏
```

### –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
```javascript
const response = await fetch('/api/v1/admin/documents/stats', {
  headers: {
    'Authorization': `Bearer ${token}`
  }
});
const { stats } = await response.json();
// stats —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø–æ —Ç–∏–ø–∞–º
```

