# üß™ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≥–∏–±—Ä–∏–¥–Ω—ã–π –∑–∞–≥—Ä—É–∑—á–∏–∫ –∫–æ–¥–µ–∫—Å–æ–≤

## ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!

–ì–∏–±—Ä–∏–¥–Ω—ã–π –∑–∞–≥—Ä—É–∑—á–∏–∫ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –ø—Ä–æ–µ–∫—Ç:
- ‚úÖ Backend API endpoints —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –≤ –∞–¥–º–∏–Ω–∫—É

---

## üöÄ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω–∫—É

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `https://advacodex.com/admin`
2. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **"–°–∏—Å—Ç–µ–º–∞"** (–∏–∫–æ–Ω–∫–∞ ‚öôÔ∏è)
4. –í—ã–±–µ—Ä–∏—Ç–µ **"–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–¥–µ–∫—Å–æ–≤"** –∏–∑ –ø–æ–¥–º–µ–Ω—é

### –®–∞–≥ 2: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –æ–¥–Ω–æ–º –∫–æ–¥–µ–∫—Å–µ

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—á–∞—Ç—å —Å —Ç–µ—Å—Ç–∞!**

1. –í —Ä–∞–∑–¥–µ–ª–µ "üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –æ–¥–Ω–æ–º –∫–æ–¥–µ–∫—Å–µ" –≤—ã–±–µ—Ä–∏—Ç–µ –ª—é–±–æ–π –∫–æ–¥–µ–∫—Å
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–¢–µ—Å—Ç: [–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–¥–µ–∫—Å–∞]"
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (–æ–±—ã—á–Ω–æ 1-2 –º–∏–Ω—É—Ç—ã)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
   - ‚úÖ –£—Å–ø–µ—à–Ω–æ - –ø–æ—è–≤–∏—Ç—Å—è –∑–µ–ª–µ–Ω—ã–π –±–ª–æ–∫ —Å —Ä–∞–∑–º–µ—Ä–æ–º —Ñ–∞–π–ª–∞
   - ‚ùå –û—à–∏–±–∫–∞ - –ø–æ—è–≤–∏—Ç—Å—è –∫—Ä–∞—Å–Ω—ã–π –±–ª–æ–∫ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**
- PDF —á–µ—Ä–µ–∑ API —Ä–∞–±–æ—Ç–∞–µ—Ç?
- –ï—Å–ª–∏ PDF –º–∞–ª–µ–Ω—å–∫–∏–π - HTML –ø–∞—Ä—Å–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç?
- –§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ?

### –®–∞–≥ 3: –ü–æ–ª–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –∫–æ–¥–µ–∫—Å–æ–≤

**–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É:**

1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–ó–∞–≥—Ä—É–∑–∏—Ç—å –≤—Å–µ –∫–æ–¥–µ–∫—Å—ã"**
2. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ
3. –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
4. –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å **2-4 —á–∞—Å–∞** (23 –∫–æ–¥–µ–∫—Å–∞)

**–ì–¥–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å:**
- –°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª–µ "–ó–∞–≥—Ä—É–∂–µ–Ω–æ PDF" –∏ "–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä"

---

## üì° API Endpoints –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. –¢–µ—Å—Ç –Ω–∞ –æ–¥–Ω–æ–º –∫–æ–¥–µ–∫—Å–µ (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)

```bash
curl -X POST "https://advacodex.com/api/v1/codes/hybrid/download/test?codex_name=–¢—Ä—É–¥–æ–≤–æ–π%20–∫–æ–¥–µ–∫—Å%20–†–§" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "result": {
    "name": "–¢—Ä—É–¥–æ–≤–æ–π –∫–æ–¥–µ–∫—Å –†–§",
    "success": true,
    "method_used": "html_parsing",
    "file_size": 850000,
    "file_path": "/root/advakod/data/codes_downloads/–¢—Ä—É–¥–æ–≤–æ–π_–∫–æ–¥–µ–∫—Å_–†–§.txt"
  }
}
```

### 2. –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ (—Ñ–æ–Ω–æ–≤—ã–π —Ä–µ–∂–∏–º)

```bash
curl -X POST "https://advacodex.com/api/v1/codes/hybrid/download" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "message": "–ì–∏–±—Ä–∏–¥–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–¥–µ–∫—Å–æ–≤ –∑–∞–ø—É—â–µ–Ω–∞ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ",
  "method": "hybrid",
  "description": "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç PDF —á–µ—Ä–µ–∑ API (–±—ã—Å—Ç—Ä–æ) + HTML –ø–∞—Ä—Å–∏–Ω–≥ (–Ω–∞–¥–µ–∂–Ω–æ)"
}
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```bash
curl "https://advacodex.com/api/v1/codes/hybrid/status" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

### 4. –°–ø–∏—Å–æ–∫ –∫–æ–¥–µ–∫—Å–æ–≤

```bash
curl "https://advacodex.com/api/v1/codes/hybrid/list" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

---

## üñ•Ô∏è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª

### –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç –Ω–∞ –æ–¥–Ω–æ–º –∫–æ–¥–µ–∫—Å–µ:

```bash
cd /root/advakod
python3 backend/scripts/hybrid_download_codes.py
```

**–ù–æ —ç—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç –∑–∞–≥—Ä—É–∑–∫—É –≤—Å–µ—Ö –∫–æ–¥–µ–∫—Å–æ–≤!**

–î–ª—è —Ç–µ—Å—Ç–∞ –æ–¥–Ω–æ–≥–æ –∫–æ–¥–µ–∫—Å–∞:

```bash
cd /root/advakod
python3 << 'EOF'
import asyncio
import sys
sys.path.append('backend')

from app.services.hybrid_codes_downloader import HybridCodesDownloader

async def test():
    async with HybridCodesDownloader() as downloader:
        # –¢–µ—Å—Ç–∏—Ä—É–µ–º –æ–¥–∏–Ω –∫–æ–¥–µ–∫—Å
        codex_name = "–¢—Ä—É–¥–æ–≤–æ–π –∫–æ–¥–µ–∫—Å –†–§"
        codex_info = downloader.codexes[codex_name]
        
        print(f"üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º: {codex_name}")
        result = await downloader.download_codex(codex_name, codex_info)
        
        if result['success']:
            print(f"‚úÖ –£—Å–ø–µ—à–Ω–æ!")
            print(f"   –ú–µ—Ç–æ–¥: {result.get('method_used')}")
            print(f"   –†–∞–∑–º–µ—Ä: {result.get('file_size', 0) / 1024 / 1024:.2f} –ú–ë")
            print(f"   –§–∞–π–ª: {result.get('file_path')}")
        else:
            print(f"‚ùå –û—à–∏–±–∫–∞: {result.get('errors', ['Unknown'])[0]}")

asyncio.run(test())
EOF
```

---

## ‚úÖ –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∞

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤

```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã
ls -lh /root/advakod/data/codes_downloads/

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑–º–µ—Ä—ã (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ú–ë, –∞ –Ω–µ –ö–ë!)
du -sh /root/advakod/data/codes_downloads/*

# –ü—Ä–æ–≤–µ—Ä—è–µ–º PDF —Ñ–∞–π–ª—ã
file /root/advakod/data/codes_downloads/*.pdf

# –ü—Ä–æ–≤–µ—Ä—è–µ–º TXT —Ñ–∞–π–ª—ã
head -50 /root/advakod/data/codes_downloads/*.txt
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∞–¥–º–∏–Ω–∫–µ

- ‚úÖ –°—Ç–∞—Ç—É—Å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ –û–±—â–∏–π —Ä–∞–∑–º–µ—Ä –±–æ–ª—å—à–µ 0 –ú–ë
- ‚úÖ –°–ø–∏—Å–æ–∫ –∫–æ–¥–µ–∫—Å–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç–æ–¥–æ–≤

- **api_pdf** - —Ñ–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å PDF, —Ä–∞–∑–º–µ—Ä > 500 –ö–ë
- **html_parsing** - —Ñ–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å TXT, —Ä–∞–∑–º–µ—Ä > 100 –ö–ë

---

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "Selenium –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ chromedriver
which chromedriver

# –ï—Å–ª–∏ –Ω–µ—Ç - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º
apt-get update
apt-get install -y chromium-chromedriver
```

### –ü—Ä–æ–±–ª–µ–º–∞: "–û—à–∏–±–∫–∞ —Å–µ—Ç–∏ –ø—Ä–∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–∏ PDF"

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å `publication.pravo.gov.ru`
- –í–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏

### –ü—Ä–æ–±–ª–µ–º–∞: "HTML –ø–∞—Ä—Å–∏–Ω–≥ –Ω–µ –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ–∫—Å—Ç"

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Selenium —Ä–∞–±–æ—Ç–∞–µ—Ç
- –£–≤–µ–ª–∏—á—å—Ç–µ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –≤ –∫–æ–¥–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –≤ –±—Ä–∞—É–∑–µ—Ä–µ

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –£—Å–ø–µ—à–Ω—ã–π —Ç–µ—Å—Ç:

```
‚úÖ –¢–µ—Å—Ç —É—Å–ø–µ—à–µ–Ω!
   –ú–µ—Ç–æ–¥: html_parsing
   –†–∞–∑–º–µ—Ä: 0.85 –ú–ë
   –§–∞–π–ª: /root/advakod/data/codes_downloads/–¢—Ä—É–¥–æ–≤–æ–π_–∫–æ–¥–µ–∫—Å_–†–§.txt
```

### –£—Å–ø–µ—à–Ω–∞—è –ø–æ–ª–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞:

```
üìä –ò–¢–û–ì–û:
   ‚úÖ –£—Å–ø–µ—à–Ω–æ: 11/11
   ‚ùå –û—à–∏–±–æ–∫: 0
   üì¶ –û–±—â–∏–π —Ä–∞–∑–º–µ—Ä: 45.23 –ú–ë
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ù–∞—á–Ω–∏—Ç–µ —Å —Ç–µ—Å—Ç–∞ –æ–¥–Ω–æ–≥–æ –∫–æ–¥–µ–∫—Å–∞** - —ç—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç** - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª —Ä–µ–∞–ª—å–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω
3. **–ó–∞—Ç–µ–º –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –ø–æ–ª–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É** - –µ—Å–ª–∏ —Ç–µ—Å—Ç —É—Å–ø–µ—à–µ–Ω
4. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å** - –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—Ç–∞—Ç—É—Å —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É

---

**–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!** üöÄ

